// ffDataview http://github.com/ukyo/ffDataView
(function(){function d(a,b,c){if(null==a||a.constructor!==ArrayBuffer)throw"Type error";this.buffer=a;b=b||0;c=c||a.byteLength;if("number"===typeof b){b=~~b;if(0>b||b>=a.byteLength)throw"Index size error";this.byteOffset=b}else throw"Type error";if("number"===typeof c){c=~~c;if(0>a.byteLength-(b+c))throw"Index size error";this.byteLength=c}else throw"Type error";this._bytes=new Uint8Array(this.buffer,this.byteOffset,this.byteOffset+this.byteLength);this._sbytes=new Int8Array(this.buffer,this.byteOffset,
this.byteOffset+this.byteLength)}d.prototype={_getNumber:function(a,b,c,d){b=this._getBytes(b,c);return(new a((new Uint8Array(d?b:b.reverse())).buffer))[0]},_setNumber:function(a,b,c,d){for(var a=new Uint8Array((new a([c])).buffer),c=[],e=a.length;e;)c[--e]=a[e];this._bytes.set(new Uint8Array(d?c:c.reverse()),this.byteOffset+b)},_getBytes:function(a,b){for(var c=this.byteOffset+a,c=this._bytes.subarray(c,c+b),d=c.length,e=[];d;)e[--d]=c[d];return e},getInt8:function(a){return this._sbytes[this.byteOffset+
a]},getUint8:function(a){return this._bytes[this.byteOffset+a]},getInt16:function(a,b){return this._getNumber(Int16Array,a,2,b)},getUint16:function(a,b){return this._getNumber(Uint16Array,a,2,b)},getInt32:function(a,b){return this._getNumber(Int32Array,a,4,b)},getUint32:function(a,b){return this._getNumber(Uint32Array,a,4,b)},getFloat32:function(a,b){return this._getNumber(Float32Array,a,4,b)},getFloat64:function(a,b){return this._getNumber(Float64Array,a,8,b)},setInt8:function(a,b){this._sbytes[this.byteOffset+
a]=b},setUint8:function(a,b){this._bytes[this.byteOffset+a]=b},setInt16:function(a,b,c){this._setNumber(Int16Array,a,b,c)},setUint16:function(a,b,c){this._setNumber(Uint16Array,a,b,c)},setInt32:function(a,b,c){this._setNumber(Int32Array,a,b,c)},setUint32:function(a,b,c){this._setNumber(Uint32Array,a,b,c)},setFloat32:function(a,b,c){this._setNumber(Float32Array,a,b,c)},setFloat64:function(a,b,c){this._setNumber(Float64Array,a,b,c)}};this.ffDataView=d}).call(this);var DataView=DataView||ffDataView;(function(){this.getInt24=function(d,a){var b=this.getUint24(d,a);return b&8388608?b-16777216:b};this.getUint24=function(d,a){var b=new Uint8Array(this.buffer,this.byteOffset+d);return a?b[0]|b[1]<<8|b[2]<<16:b[2]|b[1]<<8|b[0]<<16};this.getString=function(d,a){for(var b=new Uint8Array(this.buffer,this.byteOffset+d),c=[];a;)c[--a]=b[a];return String.fromCharCode.apply(null,c)};this.setInt24=function(d,a,b){d=new Uint8Array(this.buffer,this.byteOffset+d);b?(d[0]=a&255,d[1]=(a&65280)>>8,d[2]=(a&16711680)>>
16):(d[2]=a&255,d[1]=(a&65280)>>8,d[0]=(a&16711680)>>16)};this.setUint24=function(d,a,b){this.setInt24(d,a,b)};this.setString=function(d,a){for(var b=new Uint8Array(this.buffer,this.byteOffset+d),c=a.length;c;)b[--c]=a.charCodeAt(c)}}).call(this.DataView.prototype);
