// ffDataview http://github.com/ukyo/ffDataView
(function(){function e(a,c,d){if(null==a||a.constructor!==ArrayBuffer)throw"Type error";this.buffer=a;c=c||0;d=d||a.byteLength;if("number"===typeof c){c=~~c;if(0>c||c>=a.byteLength)throw"Index size error";this.byteOffset=c}else throw"Type error";if("number"===typeof d){d=~~d;if(0>a.byteLength-(c+d))throw"Index size error";this.byteLength=d}else throw"Type error";this._bytes=new Uint8Array(this.buffer,this.byteOffset,this.byteOffset+this.byteLength);this._sbytes=new Int8Array(this.buffer,this.byteOffset,
this.byteOffset+this.byteLength)}e.prototype={_getNumber:function(a,c,d,e){c=this._getBytes(c,d);return(new a((new Uint8Array(e?c:c.reverse())).buffer))[0]},_setNumber:function(a,c,d,e){for(var a=new Uint8Array((new a([d])).buffer),d=[],f=a.length;f;)d[--f]=a[f];this._bytes.set(new Uint8Array(e?d:d.reverse()),this.byteOffset+c)},_getBytes:function(a,c){for(var d=this.byteOffset+a,d=this._bytes.subarray(d,d+c),e=d.length,f=[];e;)f[--e]=d[e];return f},getInt8:function(a){return this._sbytes[this.byteOffset+
a]},getUint8:function(a){return this._bytes[this.byteOffset+a]},getInt16:function(a,c){return this._getNumber(Int16Array,a,2,c)},getUint16:function(a,c){return this._getNumber(Uint16Array,a,2,c)},getInt32:function(a,c){return this._getNumber(Int32Array,a,4,c)},getUint32:function(a,c){return this._getNumber(Uint32Array,a,4,c)},getFloat32:function(a,c){return this._getNumber(Float32Array,a,4,c)},getFloat64:function(a,c){return this._getNumber(Float64Array,a,8,c)},setInt8:function(a,c){this._sbytes[this.byteOffset+
a]=c},setUint8:function(a,c){this._bytes[this.byteOffset+a]=c},setInt16:function(a,c,d){this._setNumber(Int16Array,a,c,d)},setUint16:function(a,c,d){this._setNumber(Uint16Array,a,c,d)},setInt32:function(a,c,d){this._setNumber(Int32Array,a,c,d)},setUint32:function(a,c,d){this._setNumber(Uint32Array,a,c,d)},setFloat32:function(a,c,d){this._setNumber(Float32Array,a,c,d)},setFloat64:function(a,c,d){this._setNumber(Float64Array,a,c,d)}};this.ffDataView=e}).call(this);var DataView=DataView||ffDataView;(function(){this.getInt24=function(e,a){var c=this.getUint24(e,a);return c&8388608?c-16777216:c};this.getUint24=function(e,a){var c=new Uint8Array(this.buffer,this.byteOffset+e);return a?c[0]|c[1]<<8|c[2]<<16:c[2]|c[1]<<8|c[0]<<16};this.getString=function(e,a){for(var c=this.byteOffset+e,d=new Uint8Array(this.buffer,c),g=[];a;)g[--a]=d[a+c];return String.fromCharCode.apply(null,g)};this.setInt24=function(e,a,c){e=new Uint8Array(this.buffer,this.byteOffset+e);c?(e[0]=a&255,e[1]=(a&65280)>>8,e[2]=(a&
16711680)>>16):(e[2]=a&255,e[1]=(a&65280)>>8,e[0]=(a&16711680)>>16)};this.setUint24=function(e,a,c){this.setInt24(e,a,c)};this.setString=function(e,a){var c=this.byteOffset+e;for(b=new Uint8Array(this.buffer,c),i=a.length;i;)b[--i+c]=a.charCodeAt(i)}}).call(this.DataView.prototype);
